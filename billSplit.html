<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online bill splitting tool. Easily split bills among friends, roommates, or group members with fair calculations.">
    <meta name="keywords" content="bill split, expense sharing, group billing, money split, shared expenses">
    <meta name="author" content="BillSplitPro">
    <meta property="og:title" content="Free Online Bill Splitter | Fair Expense Sharing">
    <meta property="og:description" content="Easily split bills among group members with our free online tool">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourwebsite.com/bill-splitter">
    <meta name="robots" content="index, follow">
    <title>Bill Splitter - Fair Expense Sharing Tool | BillSplitPro</title>
    <link rel="canonical" href="https://yourwebsite.com/bill-splitter">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID" crossorigin="anonymous"></script>
    <style>
        :root {
            --primary: #4a6bdf;
            --primary-light: #e8f0fe;
            --secondary: #3a56c4;
            --accent: #6cdf4a;
            --dark: #2d3748;
            --light: #f7fafc;
            --success: #48bb78;
            --warning: #ed8936;
            --danger: #f56565;
            --gray: #718096;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo-icon {
            font-size: 28px;
            color: var(--primary);
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        .logo-text span {
            color: var(--primary);
        }

        .ad-banner {
            background-color: white;
            padding: 15px;
            text-align: center;
            margin: 20px 0;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border: 1px solid #e2e8f0;
        }

        main {
            padding: 40px 0;
        }

        .app-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid #e2e8f0;
        }

        h1 {
            margin-bottom: 20px;
            color: var(--dark);
        }

        .app-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .app-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 107, 223, 0.2);
        }

        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
        }

        .btn:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .member-list {
            margin-top: 20px;
        }

        .member-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background-color: var(--light);
            border-radius: var(--border-radius);
        }

        .member-item input {
            flex: 1;
        }

        .remove-member {
            color: var(--danger);
            cursor: pointer;
            font-size: 20px;
            background: none;
            border: none;
        }

        .add-member {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            color: var(--primary);
            cursor: pointer;
            background: none;
            border: none;
            font-size: 16px;
        }

        .add-member i {
            font-size: 20px;
        }

        .bill-item {
            background-color: var(--light);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
        }

        .bill-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .bill-actions {
            display: flex;
            gap: 10px;
        }

        .bill-action {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--gray);
            font-size: 16px;
        }

        .bill-action.edit {
            color: var(--primary);
        }

        .bill-action.delete {
            color: var(--danger);
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .results-table th, .results-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .results-table th {
            background-color: var(--primary-light);
            color: var(--primary);
            font-weight: 600;
        }

        .results-table tr:hover {
            background-color: #f8fafc;
        }

        .ad-sidebar {
            background-color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            border: 1px solid #e2e8f0;
        }

        .spinner {
            display: none;
            width: 40px;
            height: 40px;
            margin: 30px auto;
            border: 4px solid rgba(74, 107, 223, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0 20px;
            margin-top: 40px;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .footer-links {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: var(--transition);
        }

        .footer-links a:hover {
            opacity: 1;
            text-decoration: underline;
        }

        .copyright {
            color: #a0aec0;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 20px;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-calculator"></i>
                </div>
                <div class="logo-text">Bill<span>Split</span>Pro</div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Top Ad Banner -->
        <div class="ad-banner">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="app-container">
            <h1>Bill Splitter</h1>
            <p class="subtitle">Fairly split expenses among friends, roommates, or group members</p>

            <!-- Step 1: Group Setup -->
            <div class="app-step active" id="step1">
                <div class="form-group">
                    <label for="groupName">Group Name</label>
                    <input type="text" id="groupName" placeholder="e.g., Roommates, Vacation Group, etc.">
                </div>

                <div class="form-group">
                    <label>Group Members</label>
                    <div class="member-list" id="memberList">
                        <div class="member-item">
                            <input type="text" class="member-name" placeholder="Member name">
                            <button class="remove-member"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="member-item">
                            <input type="text" class="member-name" placeholder="Member name">
                            <button class="remove-member"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-member" id="addMember">
                        <i class="fas fa-plus-circle"></i> Add Member
                    </button>
                </div>

                <div class="btn-group">
                    <button class="btn" id="nextToStep2">Next</button>
                </div>
            </div>

            <!-- Step 2: Add Bills -->
            <div class="app-step" id="step2">
                <div class="form-group">
                    <label for="billDescription">Bill Description</label>
                    <input type="text" id="billDescription" placeholder="e.g., Dinner, Groceries, Rent, etc.">
                </div>

                <div class="form-group">
                    <label for="billAmount">Amount</label>
                    <input type="number" id="billAmount" placeholder="0.00" step="0.01" min="0">
                </div>

                <div class="form-group">
                    <label for="paidBy">Paid By</label>
                    <select id="paidBy">
                        <!-- Filled dynamically with members -->
                    </select>
                </div>

                <div class="form-group">
                    <label>Split Between</label>
                    <div id="splitBetween">
                        <!-- Filled dynamically with checkboxes for each member -->
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn-outline" id="backToStep1">Back</button>
                    <button class="btn" id="addBill">Add Bill</button>
                    <button class="btn" id="nextToStep3">Calculate Split</button>
                </div>

                <div id="billsList">
                    <!-- Bills will be added here -->
                </div>
            </div>

            <!-- Step 3: Results -->
            <div class="app-step" id="step3">
                <h2>Expense Summary</h2>
                <p id="groupSummary"></p>

                <div class="form-group">
                    <label for="splitMethod">Split Method</label>
                    <select id="splitMethod">
                        <option value="equal">Equal Split</option>
                        <option value="unequal">Custom Amounts</option>
                        <option value="percentage">Percentage Based</option>
                    </select>
                </div>

                <div class="btn-group">
                    <button class="btn-outline" id="backToStep2">Back</button>
                    <button class="btn" id="calculateSplit">Calculate</button>
                </div>

                <div class="spinner" id="loadingSpinner"></div>

                <div id="resultsContainer">
                    <h3>Results</h3>
                    <table class="results-table" id="resultsTable">
                        <thead>
                            <tr>
                                <th>Member</th>
                                <th>Total Paid</th>
                                <th>Share</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Results will be populated here -->
                        </tbody>
                    </table>
                </div>

                <div class="btn-group" id="finalActions">
                    <button class="btn" id="printResults"><i class="fas fa-print"></i> Print</button>
                    <button class="btn" id="saveResults"><i class="fas fa-save"></i> Save</button>
                    <button class="btn" id="newGroup"><i class="fas fa-users"></i> New Group</button>
                </div>
            </div>
        </div>

        <!-- Sidebar Ad -->
        <div class="ad-sidebar">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="rectangle"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <!-- How It Works Section -->
        <div class="app-container">
            <h2>How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Create Your Group</h3>
                        <p>Enter a group name and add all members who will be sharing expenses.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Add Expenses</h3>
                        <p>For each bill, enter the amount, who paid, and how it should be split.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Calculate & Share</h3>
                        <p>Get a fair breakdown of who owes what and share the results.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Ad Banner -->
        <div class="ad-banner">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </main>

    <footer>
        <div class="container footer-content">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">About</a>
            </div>
            <p class="copyright">© 2023 BillSplitPro. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM elements
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const step3 = document.getElementById('step3');
            const nextToStep2 = document.getElementById('nextToStep2');
            const backToStep1 = document.getElementById('backToStep1');
            const nextToStep3 = document.getElementById('nextToStep3');
            const backToStep2 = document.getElementById('backToStep2');
            const addMember = document.getElementById('addMember');
            const memberList = document.getElementById('memberList');
            const paidBy = document.getElementById('paidBy');
            const splitBetween = document.getElementById('splitBetween');
            const addBill = document.getElementById('addBill');
            const billsList = document.getElementById('billsList');
            const calculateSplit = document.getElementById('calculateSplit');
            const resultsTable = document.getElementById('resultsTable');
            const printResults = document.getElementById('printResults');
            const saveResults = document.getElementById('saveResults');
            const newGroup = document.getElementById('newGroup');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const groupSummary = document.getElementById('groupSummary');
            const splitMethod = document.getElementById('splitMethod');

            // Data storage
            let group = {
                name: '',
                members: [],
                bills: []
            };

            // Event listeners
            nextToStep2.addEventListener('click', goToStep2);
            backToStep1.addEventListener('click', goToStep1);
            nextToStep3.addEventListener('click', goToStep3);
            backToStep2.addEventListener('click', goToStep2);
            addMember.addEventListener('click', addNewMember);
            addBill.addEventListener('click', addNewBill);
            calculateSplit.addEventListener('click', calculateFinalSplit);
            printResults.addEventListener('click', printFinalResults);
            saveResults.addEventListener('click', saveFinalResults);
            newGroup.addEventListener('click', startNewGroup);

            // Member list event delegation
            memberList.addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-member') || 
                    e.target.parentElement.classList.contains('remove-member')) {
                    if (memberList.children.length > 1) {
                        e.target.closest('.member-item').remove();
                    } else {
                        alert('You need at least one member in the group');
                    }
                }
            });

            // Bills list event delegation
            billsList.addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-bill') || 
                    e.target.parentElement.classList.contains('delete-bill')) {
                    const billId = e.target.closest('.bill-item').dataset.id;
                    group.bills = group.bills.filter(bill => bill.id != billId);
                    e.target.closest('.bill-item').remove();
                }
            });

            // Functions
            function goToStep2() {
                // Get group name
                group.name = document.getElementById('groupName').value.trim();
                if (!group.name) {
                    alert('Please enter a group name');
                    return;
                }

                // Get members
                group.members = [];
                const memberInputs = memberList.querySelectorAll('.member-name');
                memberInputs.forEach(input => {
                    const name = input.value.trim();
                    if (name) {
                        group.members.push({
                            id: generateId(),
                            name: name
                        });
                    }
                });

                if (group.members.length < 1) {
                    alert('Please add at least one group member');
                    return;
                }

                // Update paid by dropdown
                updatePaidByDropdown();
                
                // Update split between checkboxes
                updateSplitBetweenCheckboxes();

                // Show step 2
                step1.classList.remove('active');
                step2.classList.add('active');
            }

            function goToStep1() {
                step2.classList.remove('active');
                step1.classList.add('active');
            }

            function goToStep3() {
                if (group.bills.length === 0) {
                    alert('Please add at least one bill');
                    return;
                }

                // Show group summary
                groupSummary.textContent = `Group "${group.name}" with ${group.members.length} members and ${group.bills.length} bills totaling $${calculateTotalBills().toFixed(2)}`;

                // Show step 3
                step2.classList.remove('active');
                step3.classList.add('active');
            }

            function addNewMember() {
                const newMember = document.createElement('div');
                newMember.className = 'member-item';
                newMember.innerHTML = `
                    <input type="text" class="member-name" placeholder="Member name">
                    <button class="remove-member"><i class="fas fa-times"></i></button>
                `;
                memberList.appendChild(newMember);
            }

            function updatePaidByDropdown() {
                paidBy.innerHTML = '';
                group.members.forEach(member => {
                    const option = document.createElement('option');
                    option.value = member.id;
                    option.textContent = member.name;
                    paidBy.appendChild(option);
                });
            }

            function updateSplitBetweenCheckboxes() {
                splitBetween.innerHTML = '';
                group.members.forEach(member => {
                    const div = document.createElement('div');
                    div.className = 'option-label';
                    div.innerHTML = `
                        <input type="checkbox" id="split-${member.id}" value="${member.id}" checked>
                        <label for="split-${member.id}">${member.name}</label>
                    `;
                    splitBetween.appendChild(div);
                });
            }

            function addNewBill() {
                const description = document.getElementById('billDescription').value.trim();
                const amount = parseFloat(document.getElementById('billAmount').value);
                const paidById = paidBy.value;
                const paidByMember = group.members.find(m => m.id === paidById);

                if (!description) {
                    alert('Please enter a bill description');
                    return;
                }

                if (isNaN(amount) || amount <= 0) {
                    alert('Please enter a valid amount');
                    return;
                }

                // Get which members to split between
                const splitBetweenMembers = [];
                const checkboxes = splitBetween.querySelectorAll('input[type="checkbox"]:checked');
                checkboxes.forEach(checkbox => {
                    splitBetweenMembers.push(checkbox.value);
                });

                if (splitBetweenMembers.length === 0) {
                    alert('Please select at least one member to split between');
                    return;
                }

                // Create bill object
                const bill = {
                    id: generateId(),
                    description: description,
                    amount: amount,
                    paidBy: paidById,
                    splitBetween: splitBetweenMembers,
                    date: new Date().toISOString()
                };

                // Add to group bills
                group.bills.push(bill);

                // Add to UI
                addBillToUI(bill, paidByMember);

                // Clear form
                document.getElementById('billDescription').value = '';
                document.getElementById('billAmount').value = '';
            }

            function addBillToUI(bill, paidByMember) {
                const billElement = document.createElement('div');
                billElement.className = 'bill-item';
                billElement.dataset.id = bill.id;
                
                const splitBetweenNames = [];
                bill.splitBetween.forEach(memberId => {
                    const member = group.members.find(m => m.id === memberId);
                    if (member) splitBetweenNames.push(member.name);
                });

                billElement.innerHTML = `
                    <div class="bill-header">
                        <h4>${bill.description} - $${bill.amount.toFixed(2)}</h4>
                        <div class="bill-actions">
                            <button class="bill-action edit"><i class="fas fa-edit"></i></button>
                            <button class="bill-action delete"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                    <p>Paid by: ${paidByMember.name}</p>
                    <p>Split between: ${splitBetweenNames.join(', ')}</p>
                `;
                
                billsList.appendChild(billElement);
            }

            function calculateFinalSplit() {
                loadingSpinner.style.display = 'block';
                
                // Simulate calculation delay
                setTimeout(() => {
                    // Calculate based on selected method
                    const method = splitMethod.value;
                    let results = [];
                    
                    if (method === 'equal') {
                        results = calculateEqualSplit();
                    } else if (method === 'unequal') {
                        // For demo, we'll use equal split
                        results = calculateEqualSplit();
                    } else if (method === 'percentage') {
                        // For demo, we'll use equal split
                        results = calculateEqualSplit();
                    }
                    
                    displayResults(results);
                    loadingSpinner.style.display = 'none';
                }, 1000);
            }

            function calculateEqualSplit() {
                // Initialize member totals
                const memberTotals = {};
                group.members.forEach(member => {
                    memberTotals[member.id] = {
                        name: member.name,
                        paid: 0,
                        share: 0,
                        balance: 0
                    };
                });

                // Calculate totals
                group.bills.forEach(bill => {
                    // Add to paid by member
                    memberTotals[bill.paidBy].paid += bill.amount;
                    
                    // Calculate share per member
                    const sharePerMember = bill.amount / bill.splitBetween.length;
                    
                    // Add to each member's share
                    bill.splitBetween.forEach(memberId => {
                        memberTotals[memberId].share += sharePerMember;
                    });
                });

                // Calculate balances
                Object.keys(memberTotals).forEach(memberId => {
                    memberTotals[memberId].balance = 
                        memberTotals[memberId].paid - memberTotals[memberId].share;
                });

                return Object.values(memberTotals);
            }

            function displayResults(results) {
                const tbody = resultsTable.querySelector('tbody');
                tbody.innerHTML = '';
                
                results.forEach(result => {
                    const row = document.createElement('tr');
                    
                    // Determine balance class
                    let balanceClass = '';
                    if (result.balance > 0) {
                        balanceClass = 'positive';
                    } else if (result.balance < 0) {
                        balanceClass = 'negative';
                    }
                    
                    row.innerHTML = `
                        <td>${result.name}</td>
                        <td>$${result.paid.toFixed(2)}</td>
                        <td>$${result.share.toFixed(2)}</td>
                        <td class="${balanceClass}">$${result.balance.toFixed(2)}</td>
                    `;
                    
                    tbody.appendChild(row);
                });
            }

            function calculateTotalBills() {
                return group.bills.reduce((total, bill) => total + bill.amount, 0);
            }

            function printFinalResults() {
                window.print();
            }

            function saveFinalResults() {
                // In a real app, this would save to a database or local storage
                alert('Results saved! (This would save to storage in a real app)');
            }

            function startNewGroup() {
                // Reset everything
                group = {
                    name: '',
                    members: [],
                    bills: []
                };
                
                document.getElementById('groupName').value = '';
                memberList.innerHTML = `
                    <div class="member-item">
                        <input type="text" class="member-name" placeholder="Member name">
                        <button class="remove-member"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="member-item">
                        <input type="text" class="member-name" placeholder="Member name">
                        <button class="remove-member"><i class="fas fa-times"></i></button>
                    </div>
                `;
                
                billsList.innerHTML = '';
                resultsTable.querySelector('tbody').innerHTML = '';
                
                // Go back to step 1
                step3.classList.remove('active');
                step1.classList.add('active');
            }

            function generateId() {
                return Math.random().toString(36).substr(2, 9);
            }
        });
    </script>
</body>
</html>
