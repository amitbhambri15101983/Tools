<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Create and download your personalized flight and itinerary plan." />
  <meta name="keywords" content="Flight Itinerary, PDF Export, Travel Plan, DIY Travel" />
  <meta name="author" content="ToolKitPro" />
  <title>Flight DIY Utility - ToolKitPro</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8f9fa;
      color: #212529;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #4361ee;
    }
    .editable {
      padding: 10px;
      min-height: 50px;
      cursor: text;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table, td {
      border: 1px solid #ccc;
    }
    th {
      border: 1px solid #ccc;
    }
    td {
      padding: 10px;
      text-align: left;
    }
    input[type="text"], input[type="date"], input[type="time"] {
      width: 100%;
      padding: 4px;
      border: none;
      background: transparent;
      font-family: inherit;
      overflow: visible;
    }
    .btn {
      background: #4361ee;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 5px;
    }
    .btn:hover {
      background: #3f37c9;
    }
    .ad-section {
      margin: 20px 0;
      text-align: center;
    }
    @media print {
      .editable { border: none !important; }
      .no-print, th, .btn, button { display: none !important; }
      input { border: none !important; }
    }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1895753879578333" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container" id="content">
    <h1><center>Itinerary Preview</center></h1>

    <div class="editable" contenteditable="true">
      Dear Mam/Sir, <br><br>
      Greetings from MakeMyTrip!<br><br>
      Thank you for giving us the opportunity to plan and arrange your forthcoming holiday. Over the years, we have changed the way people travel.<br><br>
      With the promise to make your holiday an unforgettable experience, we would like to suggest the below package, based on your preferences. We hope you would enjoy your holiday as much as we enjoyed planning it for you. Feel free to recommend any changes to enhance your travel experience.<br><br>
      <strong>Date of Travel:</strong> 11th June’25<br>
      <strong>City of Departure:</strong> <br>
      <strong>Cities Covered:</strong> Coorg, Ooty, Mysore
    </div>

    <h2>Flight Details</h2>
    <table id="flightTable">
      <thead>
        <tr><th>Airline</th><th>Date</th><th>From<br/><small>City & Departure Time</small></th><th>To<br/><small>City & Arrival Time</small></th><th class="no-print">Actions</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="text" value="Indigo"/></td>
          <td><input type="date"/></td>
          <td><input type="text" value="Bhopal"/><br/><input type="time"/></td>
          <td><input type="text" value="Bangalore"/><br/><input type="time"/></td>
          <td class="no-print"><button onclick="removeRow(this)" class='btn'>Remove</button></td>
        </tr>
      </tbody>
    </table>
    <button class="btn no-print" onclick="addFlightRow()">Add Flight</button>

	<h2>Day-wise Itinerary</h2>
    <table id="itineraryTable">
      <thead>
        <tr><th>Day</th><th>Date</th><th>Plan</th><th class="no-print">Actions</th></tr>
      </thead>
      <tbody>
        <tr><td><input type="text" value="Day 1"/></td><td><input type="date"/></td><td><input type="text" value="Arrival and transfer to hotel"/></td><td class="no-print"><button onclick="removeRow(this)" class='btn'>Remove</button></td></tr>
      </tbody>
    </table>
    <button class="btn no-print" onclick="addItineraryRow()">Add Day</button>

    <h2>Package Inclusions</h2>
    <div class="editable" contenteditable="true">
      · Transfers<br>
      · City Tour
    </div>

    <h2>Meal Plan</h2>
    <div class="editable" contenteditable="true">
      · With Breakfast
    </div>

    <h2>Cost</h2>
    <div class="editable" contenteditable="true">
      <strong>Total Package Cost (Including taxes):</strong><br>
      1,18,239/- INR (Subject to availability) for 2 Adults 1 Kid.
    </div>

    <h2>Package Exclusions</h2>
    <div class="editable" contenteditable="true">
      · Any increase in airfare due to changes in fuel prices or regulations<br/>
      · Any expenses of personal nature like laundry, drinks, etc.<br/>
      · Tour package not valid during fairs or events<br/>
      · Early check-in/late check-out subject to availability
    </div>

    <h2>For Travel Insurance</h2>
    <div class="editable" contenteditable="true">
      Insurance is suggested for every booking. Cost depends on destination, stay duration, and package type.
    </div>

    <h2>Modes of Payment</h2>
    <div class="editable" contenteditable="true">
      Online Transfer, Cash, Debit or Credit Card, NET Banking<br><br>
      We wish you a pleasant holiday and thank you for contacting MakeMyTrip.com for your travel needs.<br>
      Please get in touch with us for any further information. We assure you complete assistance with our best services.<br><br>
      For Detailed VISA Information: - <a href="http://www.makemytrip.com/holidays-international/visa-information.html" target="_blank">http://www.makemytrip.com/holidays-international/visa-information.html</a><br>
      Destination Guide: - <a href="http://www.makemytrip.com/travel-guide/" target="_blank">http://www.makemytrip.com/travel-guide/</a>
    </div>

    <div class="ad-section no-print">
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1895753879578333" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <button class="btn no-print" onclick="generatePdfContent()">Download PDF</button>
  </div>

  <script>
    function addFlightRow() {
      const table = document.getElementById("flightTable").getElementsByTagName('tbody')[0];
      const newRow = table.insertRow();
      newRow.innerHTML = `
        <td><input type="text"/></td>
        <td><input type="date"/></td>
        <td><input type="text"/><br/><input type="time"/></td>
        <td><input type="text"/><br/><input type="time"/></td>
        <td class="no-print"><button onclick="removeRow(this)" class='btn'>Remove</button></td>
      `;
    }

    function addItineraryRow() {
      const table = document.getElementById("itineraryTable").getElementsByTagName('tbody')[0];
      const newRow = table.insertRow();
      newRow.innerHTML = `
        <td><input type="text"/></td>
        <td><input type="date"/></td>
        <td><input type="text"/></td>
        <td class="no-print"><button onclick="removeRow(this)" class='btn'>Remove</button></td>
      `;
    }

    function removeRow(btn) {
      const row = btn.parentNode.parentNode;
      row.parentNode.removeChild(row);
    }

    function generatePdfContent() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF('p', 'pt', 'a4');
      const content = document.getElementById("content");
	  content.querySelectorAll(".no-print").forEach(el => el.remove());
      html2canvas(content, { scale: 2, useCORS: true }).then(canvas => {
        const imgData = canvas.toDataURL("image/png");
        const imgWidth = 595.28;
        const pageHeight = 841.89;
        const imgHeight = canvas.height * imgWidth / canvas.width;
        let heightLeft = imgHeight;
        let position = 0;

        doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;

        while (heightLeft > 0) {
          position = heightLeft - imgHeight;
          doc.addPage();
          doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
          heightLeft -= pageHeight;
        }

        doc.save("Flight-Itinerary.pdf");
      });
    }
  </script>
</body>
</html>
